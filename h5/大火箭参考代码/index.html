<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <title>摇一摇！见识新一代大火箭——长征五号的秘密！</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!--<base href="/microblog-v3/h5/lhwzl/">-->
    <style>
        *{-webkit-text-size-adjust:none;}
        html{font-size:32px;font-family:Arial;}
        body{padding:0;margin:0;width:20rem;}
        dl, dt, dd{padding:0;margin:0;}
        ul,ol,li{padding:0;margin:0;list-style:none;}
        html{
            height: 100%;
            background: url("images/bg1.png") no-repeat 0 0;
            background-size: contain;
        }
        .pageBox{background-size:20rem;height:100%;min-height:31.5rem;}
        .cardBox div{position:absolute;}
        .cardBox div span{display:block;width:4.48125rem;height:5.09375rem;padding:1rem 0.4rem 0;background:url("images/paper_03.png") no-repeat 0 0;background-size:100%;text-align:center;color:#1662a8;line-height:1rem;font-size:0.875rem;}
        .cardBox .card_1{left:2rem;top:11.175rem;}
        .cardBox .card_1 span{transform:rotate(-20deg) scale(1.2);-webkit-transform:rotate(-20deg) scale(0.85);}
        .cardBox .card_2{left:13.6875rem;top:10.8437rem;}
        .cardBox .card_2 span{transform:rotate(20deg) scale(1.1);-webkit-transform:rotate(20deg) scale(0.85);}
        .cardBox .card_3{left:0.8rem;top:16.3437rem;}
        .cardBox .card_3 span{transform:rotate(5deg) scale(1.1);-webkit-transform:rotate(5deg) scale(0.9);}
        .cardBox .card_4{left:13.9375rem;top:15.5625rem;}
        .cardBox .card_4 span{transform:rotate(30deg) scale(1.32);-webkit-transform:rotate(30deg) scale(0.85);}
        .cardBox .card_5{left:1.719rem;top:22rem;}
        .cardBox .card_5 span{transform:rotate(-10deg) scale(1.2);-webkit-transform:rotate(-10deg) scale(0.95);}
        .cardBox .card_6{left:13.6875rem;top:21.4375rem;}
        .cardBox .card_6 span{transform:rotate(10deg) scale(1.2);-webkit-transform:rotate(10deg) scale(0.9);}
        .cardBox .card_7{left:9.65625rem;top:24.4375rem;}
        .cardBox .card_7 span{transform:rotate(-5deg) scale(1.2);-webkit-transform:rotate(-5deg) scale(0.95);}


        .zl{position:absolute;left:4.4375rem;top:11.875rem;width:11.71875rem;z-index: 2}
        .zl_icon{width:11.71875rem;height:13.9375rem;background:url("images/rock1_03.png") no-repeat 0 0;background-size:100%;}


        .footer{background:#2b75bb;height:2.65625rem;position:fixed;bottom:0;left:0;width:20rem;}
        .footer .f_txt{color:#fff;font-size:1.125rem;line-height:2.65625rem;position:absolute;left:6.8rem;}
        .footer .shake{background:url('images/shake1_03.png') no-repeat 0 0;width:2.125rem;height:1.625rem;background-size:100%;position:absolute;left:3.375rem;top:0.375rem;}

        .contLayer{width:20rem;height:100%;position:fixed;top:0;left:0;background:url(images/wzl_04.jpg) no-repeat 0 0 #f2f2f2;background-size:100%;padding-top:1rem;z-index:100;transition:transform 0.3s,opacity 0.3s;-webkit-transition:transform 0.3s,opacity 0.3s;transform:scale(0.1);-webkit-transform:scale(0.1);opacity:0;visibility:hidden;background: url("images/bg1 (2).png");background-size: contain;}
        .contLayer .f_box{padding:1.375rem 1rem 1rem 1rem;overflow:hidden;}
        .contLayer .f_box .headImg{float:left;}
        .contLayer .f_box .contBox{float:left;padding-left:0.5rem;}
        .contLayer .f_box h3{text-align:left;}
        .contLayer .f_box .msgBox{float:left;background:url("images/talk_03.png");background-size:100% 100%;color:#333;padding-bottom:.5rem;padding-top: .5rem;}
        .contLayer h3{color:#888;font-size:0.6875rem;margin:0;font-weight:normal;line-height:1rem;}
        .contLayer .msgBox{max-width:12rem;padding:0.4rem 0.4rem 0.4rem 0.75rem;font-size:0.875rem;position:relative;}
        .contLayer .headImg{width:2.8125rem;text-align:center;padding:0.6rem 0 0;}
        .contLayer .headImg img{width:2.5rem;height:2.5rem;border-radius:2.5rem;border:0.03125px solid #d6d6d6;padding:0.0625rem;background:#fff;}

        .btnBox{position:fixed;bottom:1rem;width:20rem;text-align:center;padding:0.3rem;}
        .btn_box{text-align:center;margin:0 0 0.8rem;}

        .btn_01{display:inline-block;width:15.625rem;height:2.5rem;line-height:2.5rem;text-align:center;color:#fff;font-size:1.125rem;text-decoration:none;border-radius:2.5rem;background: -webkit-linear-gradient(top, #ffb80f, #f09a04);border:1px solid #d98205;text-shadow:0 0.125rem 0.125rem rgba(0,0,0,0.3);}

        .btn_02{display:inline-block;width:15.625rem;height:2.375rem;line-height:2.375rem;text-align:center;color:#fff;font-size:1.125rem;text-decoration:none;border-radius:2.5rem;background:#2b75bb;}
        .btn_03{display:block;font-size:0.9375rem;text-align:center;color:#fff;text-decoration:none;margin:0 auto;margin-top:8rem;}
        .zhuang{
            position: absolute;
            z-index: 2;
            left: 2.03125rem;
            bottom: 3.6876rem;
            width: 15.9375rem;
            height: 3.125rem;
            background: url("images/make_07.png") no-repeat;
            background-size: cover;
            margin: 0 auto;
        }
        .zhuang a{
            display:block;
            font-size:0.9375rem;
            text-align:center;
            color:#fff;
            line-height:2.375rem;
            text-decoration:none;
            margin:0 auto;
            margin-top: 0.75rem;
        }
        .btn_box1{
            position: absolute;
            z-index: 2;
            left: 2.03125rem;
            bottom: 4.325rem;
            width: 15.9375rem;
            height: 3.125rem;
            background: url("images/make_07.png") no-repeat;
            background-size: cover;
            margin: 0 auto;
        }
        .btn_box1 a{
            display:block;
            font-size:0.9375rem;
            text-align:center;
            color:#fff;
            line-height:2.375rem;
            text-decoration:none;
            margin:0 auto;
            margin-top: 0.75rem;
        }
        @-webkit-keyframes zoomIn {
            0% {
                opacity: 0;
                -webkit-transform: scale3d(.1,.1,.1);
            }
            100% {
                opacity: 1;
            }
        }
        @keyframes zoomIn {
            0% {
                opacity: 0;
                transform: scale3d(.1,.1,.1);
            }
            100% {
                opacity: 1;
            }
        }
        @-webkit-keyframes shake {
            3%, 9%, 15%{
                -webkit-transform: translate3d(-0.15625rem, 0, 0) rotate3d(0, 0, 1, -10deg);
            }

            0%, 6%, 12%, 18%, 100% {
                -webkit-transform: translate3d(0.15625rem, 0, 0) rotate3d(0, 0, 1, 0deg);
            }
        }
        @keyframes shake {
            3%, 9%, 15% {
                transform: translate3d(-0.15625rem, 0, 0) rotate3d(0, 0, 1, -10deg);
            }
            0%, 6%, 12%, 18%, 100% {
                transform: translate3d(0.15625rem, 0, 0) rotate3d(0, 0, 1, 0deg);
            }
        }
        .shake{
            -webkit-animation: shake 4s infinite;
            animation: shake 4s infinite;
        }

        @-webkit-keyframes shakeItem {
            10%, 30%, 50%{
                -webkit-transform: translate3d(-0.15625rem, 0, 0) rotate3d(0, 0, 1, -10deg);
            }
            0%, 20%, 40%, 60%, 100% {
                -webkit-transform: translate3d(0.15625rem, 0, 0) rotate3d(0, 0, 1, 0deg);
            }
        }
        @keyframes shakeItem {
            10%, 30%, 50%{
                transform: translate3d(-0.3125rem, 0, 0) rotate3d(0, 0, 1, -10deg);
            }
            0%, 20%, 40%, 60%, 100% {
                transform: translate3d(0, 0, 0) rotate3d(0, 0, 1, 0deg);
            }
        }
        .shakeItem{
            -webkit-animation: shakeItem 1s!important;
            animation: shakeItem 1s!important;
        }
        @keyframes toCenter {
            100%{
                left:8rem;top:16rem;
            }
        }
        @-webkit-keyframes toCenter {
            100%{
                left:8rem;top:16rem;
            }
        }
        .toCenter{
            -webkit-animation: toCenter 0.5s!important;
            animation: toCenter 0.5s!important;
            -webkit-animation-fill-mode:both;
            animation-fill-mode:both;
        }
        @-webkit-keyframes fadeInUp {
            0% {
                opacity: 0;
                -webkit-transform: translate3d(0, 100%, 0);
            }
            100% {
                opacity: 1;
                -webkit-transform: none;
            }
        }
        @keyframes fadeInUp {
            0% {
                opacity: 0;
                transform: translate3d(0, 100%, 0);
            }
            100% {
                opacity: 1;
                transform: none;
            }
        }
        .fadeInUp {
            -webkit-animation: fadeInUp 1s;
            animation: fadeInUp 1s;
        }
    </style>
    <!-- 天润测试代码 -->
    <META name="filetype" content="1">
    <META name="publishedtype" content="1">
    <META name="pagetype" content="2">
    <META name="catalogs" content="SQ_0002001">
    <!-- /天润测试代码 -->

    <!-- 百度统计 -->
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?8d2077d60272dd9e6d0ea4e1e413b118";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
    <!-- /百度统计 -->
</head>
<body>
<div class="pageBox">
    <div class="zl">
        <div class="zl_icon"></div>
    </div>
    <div class="zhuang">
        <a href="./rockets.html" class="btn_03">我来涂装大火箭</a>
    </div>
    <div class="cardBox">
        <div class="card_1"></div>
        <div class="card_2"></div>
        <div class="card_3"></div>
        <div class="card_4"></div>
        <div class="card_5"></div>
        <div class="card_6"></div>
        <div class="card_7"></div>
    </div>
    <div class="footer">
        <div class="shake"></div>
        <div class="f_txt">摇一摇，为你解密</div>
    </div>

    <div class="contLayer" id="contLayer">
        <div class="f_box">
            <div class="headImg"><img src="images/man_03.png" alt=""></div>
            <div class="contBox">
                <h3>李克强总理</h3>
                <div class="msgBox">
                    <div class="msgTxt"></div>
                </div>
            </div>
        </div>
        <div class="btnBox">
            <div class="btn_box1"><a href="./rockets.html" >我来涂装大火箭</a></div>
            <div class="btn_box"><a href="javascript:void(0)" class="btn_02">返 回</a></div>
        </div>
    </div>

</div>
<script>
    //2016.3.4 mengjia
    (function(){

        var iOS = navigator.userAgent.match(/ OS (\d+).*? Mac OS/) || false;
        var isAndroid = (/android/i).test(navigator.userAgent) || false;
        function Q(s, p){
            return (p || document).querySelector(s);
        };
        function QA(s, p){
            return (p || document).querySelectorAll(s);
        };
        function addClass(node, n){
            var cn = node.className.replace(new RegExp('\\b' + n + '\\b', 'g'), '');
            node.className = cn.replace(/ +/g, ' ').replace(/(^ +| +$)/g, '') + ' ' + n;
        };
        function removeClass(node, n){
            node.className = node.className.replace(new RegExp('\\b' + n + '\\b', 'g'), ' ').replace(/ +/g, ' ').replace(/(^ +| +$)/g, '');
        };
        var CSS3Prefix = '';
        if(navigator.userAgent.indexOf('WebKit') !== -1){
            CSS3Prefix = 'webkit';
        }else if(navigator.userAgent.indexOf('Firefox') !== -1){
            CSS3Prefix = 'moz';
        }else if(navigator.userAgent.indexOf('MSIE') !== -1){
            CSS3Prefix = 'ms';
        };
        var ANIMATION_END_NAME = ({
                    "moz" : "animationend",
                    "webkit" : "webkitAnimationEnd",
                    "ms" : "MSAnimationEnd"
                })[CSS3Prefix] || "animationend";
        var viewScale;
        var viewWidth, viewScale;
        if(document.documentElement.clientWidth / document.documentElement.clientHeight > 0.76){
            viewWidth = Math.round(document.documentElement.clientHeight / 416 * 320);
            viewScale = viewWidth / 640;
        }else{
            viewScale = document.documentElement.clientWidth / 640;
        };
        document.documentElement.style.fontSize = 32 * viewScale + 'px';
        document.body.ontouchmove = function(e){
            e.preventDefault();
            return false;
        };
        var data = [
            {
                key: '最牛身高',
                hImg: 'images/u1.jpg',
                a: '长征五号运载火箭有20层楼高，箭体直径达到5米，当之无愧是我国高度最高、体积最大的火箭。据专家介绍，长征五号火箭近地轨道的运载能力达到25吨，比现役火箭运载能力提高了2.5倍以上，是国内目前运载能力最强的火箭。'
            },
            {
                key: '冰箭不冷',
                hImg: 'images/u2.jpg',
                a: '长征五号运载火箭也称“冰箭”，因为火箭肚子里装了满满的深低温液氢液氧燃料，其中液氢温度达-253摄氏度、液氧达-183摄氏度，几乎达到了温度的极限。火箭体内90%以上都是这种深低温燃料，但火箭并不冷，它的外表面温度依然可以一直保持在0℃以上，这是因为火箭的贮箱外都穿着一层“防寒服”，让火箭内部的仪器、设备、电缆等正常工作。'
            },
            {
                key: '起飞漂移',
                mp3: 'mp3/03.mp3',
                a: '“漂移”可不是只有迈克尔杰克逊的舞步里有，火箭起飞时也有。航天科技集团中国运载火箭技术研究院“长五”火箭设计人员何巍介绍，火箭点火起飞瞬间，会有一个横向的摇摆，幅度受起飞瞬间风力、发动机安装微小偏差等影响。火箭起飞瞬间，发动机喷管喷出火焰，“漂移”也从这里开始。火箭脚下的12个“支撑臂”支撑火箭站立，火箭最底端距离地面11米，调整后，这个距离将变成11.3米，站得更高，漂移裕度会更大。'
            },
            {
                key: '薄如蝉翼',
                hImg: 'images/u4.jpg',
                a: '运载火箭这个庞然大物，身高数十米，体重几十吨，大家都会觉得，火箭外壳肯定特别厚重，才能足够坚固。可是你知道吗？常用的火箭壳体“蒙皮”的厚度都在1.2毫米至2毫米之间，而整流罩的“蒙皮”厚度仅有0.3毫米。如果把火箭比作一个成年人，把壳体比作成年人的外衣，那么这层外衣真的是“薄如蝉翼”。'
            },
            {
                key: '全景式天窗',
                hImg: 'images/u5.jpg',
                a: '在役火箭的整流罩都是金属铝结构，卫星装在里面无法与外界通讯，必须在整流罩上开个口，用其它透波材料打个“补丁”，保持卫星与地面通讯畅通。据航天科技集团中国运载火箭技术研究院权威人士介绍，长征五号运载火箭整流罩创新性采用全透波结构，原来的“小补丁”变成了整个整流罩，就像给卫星信号开了“全景式天窗”。'
            },
            {
                key: '冯卡门曲线',
                hImg: 'images/u6.jpg',
                a: '和以往长征系列火箭相比，长征五号运载火箭外形设计有一个突出改变，即整流罩采用了特别设计的冯卡门曲线外形，四个助推器头部都采用了斜头锥造型。之所以这样设计，就是为了减少空气阻力，让火箭获得更大的运载能力。'
            },
            {
                key: '绝对零度',
                hImg: 'images/u7.jpg',
                a: '长征五号运载火箭使用液氢液氧推进剂，燃烧后产生的是水，无毒无污染，产生的推力也更大。其中，液氧的温度达-183℃，液氢的温度可达-253℃，已经接近-273.15℃的绝对零度了，而绝对零度，正是自然界温度不可能达到的最低温度。'
            }
        ];
        var objs;
        var popNum = data.length > 20 ? 20 : data.length, div, div1;
        var itemId;
        var randIdList = [], randIndex = 0; //随机时不重复
        for (var i = 0;i < data.length; i++) {
            randIdList.push({id: i, r: Math.random()});
        };
        randIdList.sort(function(a ,b){
            return a.r - b.r;
        });

        function openItem(n){
            if(n === '0'){
                n = 0;
            }else if(parseInt(n)){
                n = parseInt(n);
            }else{
                n = randIdList[randIndex].id;
                randIndex ++;
                if(randIndex >= randIdList.length){
                    randIndex = 0;
                }
            };
            var s = 1;
            var fn1 = function(e){
                if(s == 1) {
                    s = 2;
                    removeClass(objs[n], 'shakeItem');
                    objs[n].style.zIndex=3;
                    addClass(objs[n], 'toCenter');
                }else{
                    setTimeout(function(){
                        removeClass(objs[n], 'toCenter');
                    }, 1000);

                    objs[n].removeEventListener(ANIMATION_END_NAME, fn1, null);
                    showItem(n);
                };
            };
            itemId = n;
            objs[n].addEventListener(ANIMATION_END_NAME, fn1, null);
            addClass(objs[n], 'shakeItem');
        };
        window.openItem = openItem;
        var audioObj = document.createElement("audio");
        audioObj.src = 'shake.mp3';

        var playStatus = 'stop';
        function init() {
            //full data
            objs = QA('.cardBox div');

            for (var i = data.length - 1; i >= 0; i--) {
                objs[i].innerHTML = '<span data-id="' + i + '">' + data[i].key + '</span>';
                Q('span', objs[i]).onclick = function(){
                    openItem(this.getAttribute('data-id'));
                };
            };

            var SHAKE_THRESHOLD = 1500;
            var last_update = 0;
            var x = y = z = last_x = last_y = last_z = 0;
            var lTime = 0, _timeLimit = 1000;

            Q('.f_box .msgBox').onclick = function(){
                if(playStatus == 'stop'){
                    playAudio();
                }else{
                    stopAudio();
                }
            };
            function deviceMotionHandler(eventData) {
                if(shakeOn === false){return}
                var acceleration = eventData.accelerationIncludingGravity;
                var curTime = new Date().getTime();
                if ((curTime - last_update) > 100) {
                    var diffTime = curTime - last_update;
                    last_update = curTime;
                    x = acceleration.x;
                    y = acceleration.y;
                    z = acceleration.z;
                    var speed = Math.abs(x + y + z - last_x - last_y - last_z) / diffTime * 10000;
                    if (speed > SHAKE_THRESHOLD) {
                        if(new Date() - lTime > _timeLimit){
                            audioObj.play();
                            lTime = new Date();
                            openItem();
                        };
                    }
                    last_x = x;
                    last_y = y;
                    last_z = z;
                }
            }
            if (window.DeviceMotionEvent) {
                window.addEventListener('devicemotion', deviceMotionHandler, false);
            } else {
                //alert('not support mobile event');
            }
        }

        Q('#contLayer .btn_02').onclick = hideItem;

        var shakeOn = true;
        function hideItem(){
            shakeOn = true;

            Q('#contLayer').style['transform'] = Q('#contLayer').style['-webkit-transform'] = 'scale(0.1)';
            Q('#contLayer').style['opacity'] = 0;
            setTimeout(function(){
                Q('#contLayer').style.visibility = 'hidden';
                Q('#contLayer').style.zIndex = 0;
            }, 300);
        };
        function showItem(id){
            if(id < 0 || id >= data.length){return};

            shakeOn = false;
            Q('#contLayer .msgTxt').innerHTML = data[id].a;

            Q('#contLayer .f_box').style.visibility = 'hidden';
            Q('#contLayer .btnBox').style.visibility = 'hidden';
            removeClass(Q('#contLayer .btnBox'), 'fadeInUp');


            setTimeout(function(){
                Q('#contLayer .f_box').style.visibility = 'visible';
            }, 800);

            setTimeout(function(){
                Q('#contLayer .btnBox').style.visibility = 'visible';
                addClass(Q('#contLayer .btnBox'), 'fadeInUp');
            }, 1600);

            Q('#contLayer').style.zIndex = 100;
            Q('#contLayer').style.visibility = 'visible';
            Q('#contLayer').style['transform'] = Q('#contLayer').style['-webkit-transform'] = 'scale(1)';
            Q('#contLayer').style['opacity'] = 1;
        };
        function rand(s, e){
            s = Math.round(s);
            e = Math.round(e);
            return Math.round( (e - s) * Math.random() ) + s;
        }

        function setShareInfo(title, img, url){
            if(url && history.pushState){
                history.pushState(null, document.title, url);
            };
            if(img){
                var i = window._shareImg || new Image();
                i.src = img;
                i.style.position = 'absolute';
                i.style.left = '-1000px';
                i.style.top = '-1000px';
                window._shareImg = i;
                document.body.insertBefore(i, document.body.firstChild);
            };
            if(title){
                document.title = title;
            }
        };

        init();

        setShareInfo('', 'images/icon.jpg');
    })();
</script>
<!-- 天润测试代码 -->
<script src="http://www.people.com.cn/css/2010tianrun/webdig_test.js" type="text/javascript"></script>
<!-- /天润测试代码 -->

</body>
</html>
